import { Message, MessageSenderType } from '@/lib/types/message'
import { Conversation } from '@/lib/types/conversation'

export const mockMessages: Message[] = [
  // Conversation 1: Client 001 with Compliance Officer
  {
    id: 'msg-001',
    conversationId: 'conv-001',
    senderId: 'client-001-user',
    senderName: 'John Doe',
    senderType: 'client',
    content: 'Hi, I just uploaded the business license document. Can you let me know when it has been reviewed?',
    type: 'text',
    timestamp: '2025-01-07T11:50:00Z',
    attachments: [],
    read: true,
    readAt: '2025-01-07T12:05:00Z',
  },
  {
    id: 'msg-002',
    conversationId: 'conv-001',
    senderId: 'co-001',
    senderName: 'Emily Rodriguez',
    senderType: 'employee',
    content: 'Hello John, thank you for uploading the document. I will review it within the next 24 hours and get back to you.',
    type: 'text',
    timestamp: '2025-01-07T12:10:00Z',
    attachments: [],
    read: true,
    readAt: '2025-01-07T13:00:00Z',
  },
  {
    id: 'msg-003',
    conversationId: 'conv-001',
    senderId: 'co-001',
    senderName: 'Emily Rodriguez',
    senderType: 'employee',
    content: 'I have reviewed your business license. Everything looks good! Your onboarding is progressing smoothly.',
    type: 'text',
    timestamp: '2025-01-08T09:30:00Z',
    attachments: [],
    read: true,
    readAt: '2025-01-08T10:15:00Z',
  },
  {
    id: 'msg-004',
    conversationId: 'conv-001',
    senderId: 'client-001-user',
    senderName: 'John Doe',
    senderType: 'client',
    content: 'Great, thank you! What are the next steps?',
    type: 'text',
    timestamp: '2025-01-08T10:20:00Z',
    attachments: [],
    read: false,
  },
  
  // Conversation 2: Client 002 with Compliance Officer
  {
    id: 'msg-005',
    conversationId: 'conv-002',
    senderId: 'co-002',
    senderName: 'Marcus Johnson',
    senderType: 'employee',
    content: 'Hi Jane, I need to inform you that the proof of address document you uploaded was rejected. The utility bill is older than 3 months. Could you please upload a more recent document?',
    type: 'text',
    timestamp: '2025-01-09T09:35:00Z',
    attachments: [],
    read: true,
    readAt: '2025-01-09T14:20:00Z',
  },
  {
    id: 'msg-006',
    conversationId: 'conv-002',
    senderId: 'client-002-user',
    senderName: 'Jane Smith',
    senderType: 'client',
    content: 'Oh, I apologize for that. I will upload a recent bank statement right away. Will that work?',
    type: 'text',
    timestamp: '2025-01-09T14:25:00Z',
    attachments: [],
    read: true,
    readAt: '2025-01-09T14:30:00Z',
  },
  {
    id: 'msg-007',
    conversationId: 'conv-002',
    senderId: 'co-002',
    senderName: 'Marcus Johnson',
    senderType: 'employee',
    content: 'Yes, a recent bank statement will be perfect. Make sure it is dated within the last 3 months and clearly shows your address.',
    type: 'text',
    timestamp: '2025-01-09T14:32:00Z',
    attachments: [],
    read: true,
    readAt: '2025-01-09T15:00:00Z',
  },
  {
    id: 'msg-008',
    conversationId: 'conv-002',
    senderId: 'client-002-user',
    senderName: 'Jane Smith',
    senderType: 'client',
    content: 'I have uploaded the new document. Please review it when you have a chance.',
    type: 'text',
    timestamp: '2025-01-10T09:15:00Z',
    attachments: [
      {
        id: 'att-001',
        name: 'bank_statement_december_2024.pdf',
        fileSize: 1234567,
        mimeType: 'application/pdf',
        url: '/documents/mock/bank-statement-001.pdf',
      },
    ],
    read: false,
  },
  
  // Conversation 3: Client 003 with Compliance Officer
  {
    id: 'msg-009',
    conversationId: 'conv-003',
    senderId: 'client-003-user',
    senderName: 'Robert Chen',
    senderType: 'client',
    content: 'Hello, I have a question about the financial statement requirement. Do you need the last 3 years or just the most recent year?',
    type: 'text',
    timestamp: '2025-01-06T11:30:00Z',
    attachments: [],
    read: true,
    readAt: '2025-01-06T13:00:00Z',
  },
  {
    id: 'msg-010',
    conversationId: 'conv-003',
    senderId: 'co-001',
    senderName: 'Emily Rodriguez',
    senderType: 'employee',
    content: 'Hi Robert, for the initial onboarding we only need the most recent year. However, if you have been audited, please provide the audited statements.',
    type: 'text',
    timestamp: '2025-01-06T13:15:00Z',
    attachments: [],
    read: true,
    readAt: '2025-01-06T14:00:00Z',
  },
  {
    id: 'msg-011',
    conversationId: 'conv-003',
    senderId: 'client-003-user',
    senderName: 'Robert Chen',
    senderType: 'client',
    content: 'Perfect, I will upload our audited 2024 financial statements tomorrow.',
    type: 'text',
    timestamp: '2025-01-06T14:05:00Z',
    attachments: [],
    read: true,
    readAt: '2025-01-06T14:30:00Z',
  },
  
  // Conversation 4: Client 004 with Compliance Officer
  {
    id: 'msg-012',
    conversationId: 'conv-004',
    senderId: 'co-003',
    senderName: 'David Park',
    senderType: 'employee',
    content: 'Welcome to our onboarding platform, Sarah! I am your assigned compliance officer. I will guide you through the process. Please start by uploading the required documents listed in your dashboard.',
    type: 'text',
    timestamp: '2025-01-05T09:00:00Z',
    attachments: [],
    read: true,
    readAt: '2025-01-05T10:30:00Z',
  },
  {
    id: 'msg-013',
    conversationId: 'conv-004',
    senderId: 'client-004-user',
    senderName: 'Sarah Williams',
    senderType: 'client',
    content: 'Thank you! I have already uploaded the incorporation certificate. I will work on gathering the rest of the documents this week.',
    type: 'text',
    timestamp: '2025-01-05T10:35:00Z',
    attachments: [],
    read: true,
    readAt: '2025-01-05T11:00:00Z',
  },
  {
    id: 'msg-014',
    conversationId: 'conv-004',
    senderId: 'system',
    senderName: 'System',
    senderType: 'system',
    content: 'Document uploaded: Shareholder Agreement',
    type: 'system_notification',
    timestamp: '2025-01-09T16:22:00Z',
    attachments: [],
    read: true,
    readAt: '2025-01-09T16:22:00Z',
  },
  
  // Conversation 5: Client 005 with Compliance Officer
  {
    id: 'msg-015',
    conversationId: 'conv-005',
    senderId: 'co-003',
    senderName: 'David Park',
    senderType: 'employee',
    content: 'Hi Michael, I noticed that your ISO compliance certificate has expired. Please upload the renewed certificate at your earliest convenience to avoid any delays.',
    type: 'text',
    timestamp: '2025-01-08T10:00:00Z',
    attachments: [],
    read: true,
    readAt: '2025-01-08T15:30:00Z',
  },
  {
    id: 'msg-016',
    conversationId: 'conv-005',
    senderId: 'client-005-user',
    senderName: 'Michael Brown',
    senderType: 'client',
    content: 'Thank you for letting me know. We are in the process of renewing it now. I should have the new certificate by next week.',
    type: 'text',
    timestamp: '2025-01-08T15:35:00Z',
    attachments: [],
    read: true,
    readAt: '2025-01-08T16:00:00Z',
  },
  {
    id: 'msg-017',
    conversationId: 'conv-005',
    senderId: 'co-003',
    senderName: 'David Park',
    senderType: 'employee',
    content: 'That works perfectly. Just upload it as soon as you receive it and I will review it immediately.',
    type: 'text',
    timestamp: '2025-01-08T16:05:00Z',
    attachments: [],
    read: false,
  },
]

export const mockConversations: Conversation[] = [
  {
    id: 'conv-001',
    type: 'client_employee',
    clientId: 'client-001',
    participants: [
      {
        id: 'client-001-user',
        name: 'John Doe',
        type: 'client',
        avatar: '/avatars/client-001.jpg',
        isOnline: false,
        lastSeen: '2025-01-08T10:20:00Z',
      },
      {
        id: 'co-001',
        name: 'Emily Rodriguez',
        type: 'employee',
        role: 'Compliance Officer',
        avatar: '/avatars/co-001.jpg',
        isOnline: true,
      },
    ],
    lastMessage: mockMessages.find(m => m.id === 'msg-004'),
    unreadCount: 1,
    createdAt: '2025-01-07T11:50:00Z',
    updatedAt: '2025-01-08T10:20:00Z',
    archived: false,
  },
  {
    id: 'conv-002',
    type: 'client_employee',
    clientId: 'client-002',
    participants: [
      {
        id: 'client-002-user',
        name: 'Jane Smith',
        type: 'client',
        avatar: '/avatars/client-002.jpg',
        isOnline: false,
        lastSeen: '2025-01-10T09:15:00Z',
      },
      {
        id: 'co-002',
        name: 'Marcus Johnson',
        type: 'employee',
        role: 'Compliance Officer',
        avatar: '/avatars/co-002.jpg',
        isOnline: true,
      },
    ],
    lastMessage: mockMessages.find(m => m.id === 'msg-008'),
    unreadCount: 1,
    createdAt: '2025-01-09T09:35:00Z',
    updatedAt: '2025-01-10T09:15:00Z',
    archived: false,
  },
  {
    id: 'conv-003',
    type: 'client_employee',
    clientId: 'client-003',
    participants: [
      {
        id: 'client-003-user',
        name: 'Robert Chen',
        type: 'client',
        avatar: '/avatars/client-003.jpg',
        isOnline: true,
      },
      {
        id: 'co-001',
        name: 'Emily Rodriguez',
        type: 'employee',
        role: 'Compliance Officer',
        avatar: '/avatars/co-001.jpg',
        isOnline: true,
      },
    ],
    lastMessage: mockMessages.find(m => m.id === 'msg-011'),
    unreadCount: 0,
    createdAt: '2025-01-06T11:30:00Z',
    updatedAt: '2025-01-06T14:05:00Z',
    archived: false,
  },
  {
    id: 'conv-004',
    type: 'client_employee',
    clientId: 'client-004',
    participants: [
      {
        id: 'client-004-user',
        name: 'Sarah Williams',
        type: 'client',
        avatar: '/avatars/client-004.jpg',
        isOnline: false,
        lastSeen: '2025-01-09T17:00:00Z',
      },
      {
        id: 'co-003',
        name: 'David Park',
        type: 'employee',
        role: 'Compliance Officer',
        avatar: '/avatars/co-003.jpg',
        isOnline: false,
        lastSeen: '2025-01-10T18:00:00Z',
      },
    ],
    lastMessage: mockMessages.find(m => m.id === 'msg-014'),
    unreadCount: 0,
    createdAt: '2025-01-05T09:00:00Z',
    updatedAt: '2025-01-09T16:22:00Z',
    archived: false,
  },
  {
    id: 'conv-005',
    type: 'client_employee',
    clientId: 'client-005',
    participants: [
      {
        id: 'client-005-user',
        name: 'Michael Brown',
        type: 'client',
        avatar: '/avatars/client-005.jpg',
        isOnline: false,
        lastSeen: '2025-01-08T15:40:00Z',
      },
      {
        id: 'co-003',
        name: 'David Park',
        type: 'employee',
        role: 'Compliance Officer',
        avatar: '/avatars/co-003.jpg',
        isOnline: false,
        lastSeen: '2025-01-10T18:00:00Z',
      },
    ],
    lastMessage: mockMessages.find(m => m.id === 'msg-017'),
    unreadCount: 1,
    createdAt: '2025-01-08T10:00:00Z',
    updatedAt: '2025-01-08T16:05:00Z',
    archived: false,
  },
]

// Helper functions
export function getMessagesByConversationId(conversationId: string): Message[] {
  return mockMessages.filter(m => m.conversationId === conversationId)
}

export function getConversationsByClientId(clientId: string): Conversation[] {
  return mockConversations.filter(c => c.clientId === clientId)
}

export function getUnreadMessageCount(userId: string): number {
  const userConversations = mockConversations.filter(conv => 
    conv.participants.some(p => p.id === userId)
  )
  return userConversations.reduce((total, conv) => total + conv.unreadCount, 0)
}

